Nanite Map/Reduce Agent Framework

Make sure you have erlang installed

Get a copy of shoes and install it:
http://shoooes.net/dist/shoes-0.r925-intel.dmg

Get amqp and get a rabbitmq server up and running in one terminal
$ sudo gem install eventmachine
$ git clone git://github.com/tmm1/amqp.git
$ cd amqp && rake gem && sudo gem install amqp-<version>.gem

RabbitMQ Setup:
You'll need mercurial http://www.selenic.com/mercurial/wiki/index.cgi/BinaryPackages

Mac OS X
$ cd ~/<your root src dir>
$ mkdir rabbit (this will be <RABBIT> hereunder)
$ hg clone http://hg.rabbitmq.com/rabbitmq-server/
$ hg clone http://hg.rabbitmq.com/rabbitmq-codegen/
$ cd /usr/local/lib/erlang/lib
$ ln -s <RABBIT>/rabbitmq-server rabitmq-server-<version>
* Add <RABBIT>/scripts to your $PATH

TODO: Linux (I'm told it's easier here)

$ cd rabbit/rabbitmq-server
$ make run

Now cd into the nanite git checkout

Let's run a script to setup 15 agent accounts with a vhost and 
permissions setup properly as well as mapper account.
(rabbitmq broker must be running before you run this script)

$ ./bin/rabbitconf


run the mapper first, takes password as single arg
$ ./bin/mapper testing

you can run as many mappers as you want, they will all be hot masters
and will be load balanced between automatically.

now run a crew of 15 agents
$ ./bin/crew


# shoes client is broken currently...
now run the gui
$ shoes lib/nanite/client.rb

Have fun!

If you would rather use a cli for the client then do this:

$ cd examples/myagent  
$ nanite -u client -i

>> op('list', 'merb', '/gem') {|res| p res }  


